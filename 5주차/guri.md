# 4. useState와 useReducer

- 컴포넌트의 상태를 관리
- useState : 단일 상태 관리
- useReducer : 복잡한 상태를 관리
- useState를 이용해 상태를 관리하는 경우
    - 이전 상태를 주의 깊게 관리하지 않으면 실수로 상태의 일부 속성을 덮어 쓰는 버그 발생
- useState는 내부적으로 useReducer를 사용함
- useReducer를 사용할 때 얻는 이점
    - 상태 업데이트 로직을 컴포넌트에서 분리함
        - 단일 책임 원칙을 따름, 다른 컴포넌트에서 재사용 가능
    - useReducer는 이벤트 소스 모델임. 애플리케이션에서 발생하는 이벤트를 모델링 해서 진단 로그를 추적할 수 있음.
- useState와 useReducer를 언제 사용? ⇒ 상태의 복잡성에 따라 달라짐!

## 4.1 Immer와 편의성

- Immer는 애플리케이션에서 복잡한 상태 관리를 처리할때 특히 유용함.
- 변경 가능한 초안 상태로 작업하고 한번 생성된 상태는 변경 불가로 만들어 복잡성을 관리
- 리듀서 함수는 순수해야하며 항상 새 객체를 반환해야함, 때문에 중첩된 상태 객체 처리시 코드가 장황해질 수 있음 ⇒ useImmerReducer를 사용해 Immer와 useReducer를 통합하면 Immer가 제공하는 초안 상태에서 동작하면서 마치 상태를 직접 변경하는 것 처럼 보이는 리듀서를 작성할 수 있음
- 단순하고 직관적인 리듀서 함수 작성 가능

# 5 강력한 패턴

- 소프트웨어 디자인 패턴 : 소프트웨어 개발에서 반복되는 문제에 주로 사용되는 해결책
    - 재사용성
    - 표준화
    - 유지보수성
    - 효율성
- 이상적인 추상화 수준을 도출해 내는데 유용함
- 상태와 설정이 과도하게 증가하는 것 방지

## 5.1 프레젠테이션 / 컨테이너 컴포넌트

- 프레젠테이션 컴포넌트 : UI를 렌더링
- 컨테이너 컴포넌트 : UI의 상태를 처리
- 단일 책임 원칙 때문에 매우 유용함
- 관심사 분리해 모듈화, 재사용, 테스트를 가능케 함
- 훅이 도입되고 더 편리하게 컴포넌트에 상태를 추가할 수 있게 되면서 더이상 잘 사용하지 않음

## 5.2 고차 컴포넌트

- 다른 컴포넌트를 인수로 받아 두 컴포넌트의 합성 결과인 새로운 컴포넌트를 반환
- 여러 컴포넌트에서 공유하는 동작을 반복 작성하고 싶지 않을 때 유용함
- 훅이 비슷한 이점을 제공하면서 편의성이 더 좋아 고차 컴포넌트 대신 훅을 사용할 때가 더 많음
- 고차 컴포넌트 합성
    - 중첩된 고차 컴포넌트 호출은 그 수가 증가하면서 코드를 읽고 유지보수하기 점점 까다로워짐
    - ⇒ 여러 개의 고차 컴포넌트를 하나의 고차 컴포넌트로 합성하는 유틸리티 함수를 작성하는것
- 고차 컴포넌트와 훅 비교
    - 훅을 사용하면 더 편리하며 고차 컴포넌트의 문제점도 해결할 수 있음
